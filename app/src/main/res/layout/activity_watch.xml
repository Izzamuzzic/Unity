<!--作为顶层布局 协调子布局-->
<android.support.design.widget.CoordinatorLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent">
    <!--伴随手势滚动的父容器将其创建出来-->
    <android.support.design.widget.AppBarLayout
        android:layout_width="match_parent"
        android:layout_height="@dimen/activity_header_height">
        <!--创建一个可以折叠的tollbar的容器-->
        <!--app:contentScrim="#ee22ff" 折叠后布局（容器）的颜色值-->
        <!--app:expandedTitleMarginStart="14dp" 指定文字和左边缘的间距-->
        <!--app:layout_scrollFlags="scroll|exitUntilCollapsed" 设置滚动标记才能滚动-->
        <!--scroll：现有容器，可以滚动折叠-->
        <!--exitUntilCollapsed：可以让ToolBar固定在最顶部，而不会伴随手势的滚动移除-->
        <!--enterAlways：ToolBar完全在滚动过程中隐藏，如果手势向下移动则此ToolBar再次显示-->
        <android.support.design.widget.CollapsingToolbarLayout
            android:id="@+id/collapsingToolbarLayout"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:collapsedTitleTextAppearance="@style/Base.TextAppearance.AppCompat.Widget.ActionBar.Subtitle"
            app:contentScrim="?attr/colorPrimary"
            app:expandedTitleTextAppearance="@style/Base.TextAppearance.AppCompat.Widget.ActionBar.Subtitle"
            app:layout_scrollFlags="scroll|exitUntilCollapsed">
            <!-- app:layout_collapseMode="parallax" and
            app:layout_collapseParallaxMultiplier="0.7"搭配使用形成视觉差 -->
            <ImageView
                android:id="@+id/iv_title_bg"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:scaleType="centerCrop"
                android:src="@mipmap/bg_header"
                app:layout_collapseMode="parallax"
                app:layout_collapseParallaxMultiplier="0.7"/>
            <!--app:layout_collapseMode="pin"当CollapsingToolbarLayout收缩的时候，
            Toolbar还留在屏幕上-->
            <android.support.v7.widget.Toolbar
                android:id="@+id/toolbar"
                android:layout_width="match_parent"
                android:layout_height="?attr/actionBarSize"
                android:background="@android:color/transparent"
                app:layout_collapseMode="pin"/>

        </android.support.design.widget.CollapsingToolbarLayout>
    </android.support.design.widget.AppBarLayout>

    <android.support.v4.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:orientation="vertical">

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nn\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"/>

        </LinearLayout>
    </android.support.v4.widget.NestedScrollView>


</android.support.design.widget.CoordinatorLayout>